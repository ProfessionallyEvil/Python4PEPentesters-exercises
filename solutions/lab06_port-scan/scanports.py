#! /usr/bin/python

# Exercise: Write a script to open a socket on various ports on localhost.
# HINTS:
# - Consider using the socket.create_connection method
# - Some common ports are: 20,21,22,23,80,25,26,37,57,70,110,119,194,389,443,3306,5432,8080
# - don't forget you can wrap code in a try - except block.  Use the keyword 'pass' in except blocks to do nothing.
# Bonus: Print any banners returned by the services

import socket

ports = [20, 21, 22, 23, 80, 25, 26, 37, 57, 70, 110, 119, 194, 389, 443, 3306, 5432, 8080]

for p in ports:
    try:
        s = socket.create_connection(('127.0.0.1', p), 5.0)
        s.send('haxor\r\n')
        banner = s.recv(1024)
        print ('Banner for port: %i is %s' % (p, banner))
        s.close()
    except:
        pass