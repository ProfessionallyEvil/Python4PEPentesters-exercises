#!/usr/bin/python

# A simple pseudo netclat client


# STEP B:
# Modify your program from STEP A by:
# - accepting user input from the command line instead of the test string.
# - placing your send/receive sequence in a loop that ends when you enter a "exit" or "quit" command

import argparse
import socket

parser = argparse.ArgumentParser(description='A simple pseudo netcat client.')
parser.add_argument('host', help='The IP address of the host to connect to.')
parser.add_argument('port', type=int, help='The port to connect to.')

args = parser.parse_args()

s = socket.socket()
s.connect((args.host, args.port))

while True:
    input = input("$ ")
    if input == 'exit':
        break
    s.send(input+'\n')
    received = s.recv(1024)
    print (received)
s.close()
